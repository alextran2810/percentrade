<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <meta name="description" content="Get in touch with Percentrade. Send us a message about analytics, statistical tools, or partnership inquiries. We respond within 24-48 hours.">
    <meta property="og:title" content="Contact Us - Percentrade">
    <meta property="og:description" content="Get in touch with Percentrade. Send us a message about analytics, statistical tools, or partnership inquiries.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://percentrade.com/contact/">
    <meta property="og:image" content="https://percentrade.com/percentrade_logo.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Contact Us - Percentrade">
    <meta name="twitter:description" content="Get in touch with Percentrade. Send us a message about analytics, statistical tools, or partnership inquiries.">
    <title>Contact Us - Percentrade</title>
    <link rel="canonical" href="https://percentrade.com/contact/">
    <link rel="icon" type="image/png" href="../percentrade_logo.png">
    <link rel="apple-touch-icon" href="../percentrade_logo.png">
    <script>
        // Check BEFORE page loads - redirect first-time visitors to intro
        // Skip redirect for search engine crawlers so they can index page content
        var isBot = /bot|crawl|spider|slurp|googlebot|bingbot|yandex|baidu|duckduckbot|facebookexternalhit|twitterbot|linkedinbot/i.test(navigator.userAgent);
        if (!isBot && !localStorage.getItem('percentradeVisited')) {
            sessionStorage.setItem('returnToPage', window.location.href);
            window.location.replace('../index.html');
        }
    </script>
    <link rel="stylesheet" href="../global.css">
    <script src="../config.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 12px;
        }

                body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background: linear-gradient(135deg, #1e3a8a 0%, #7f1d1d 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }

        /* Header */
        header {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: inherit;
        }

        .logo {
            height: 45px;
            width: auto;
        }

        .logo-text {
            color: #fbbf24;
            font-size: 1.35rem;
            font-weight: bold;
            display: inline-block;
            transition: opacity 0.4s ease;
        }

        .logo-text--fade {
            opacity: 0;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #fbbf24;
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, #1e3a8a 0%, #7f1d1d 100%);
            color: white;
            padding: 80px 20px 50px;
            text-align: center;
        }

        .page-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #fbbf24;
            text-align: center;
        }

        .page-header p {
            font-size: 1.1rem;
            color: white;
        }

        /* Contact Section */
        .contact {
            padding: 100px 20px;
            background: linear-gradient(135deg, #1e3a8a 0%, #7f1d1d 100%);
        }

        .contact-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            align-items: start;
            max-width: 900px;
            margin: 0 auto;
        }

        .contact-form {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .contact-form h2 {
            text-align: center;
        }

        .contact-info {
            padding: 2rem;
            text-align: center;
        }

        .contact-info h2 {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: #fbbf24;
        }

        .contact-info h3 {
            font-size: 1.1rem;
            margin: 2rem 0 1rem 0;
            color: #fbbf24;
        }

        .contact-info p {
            margin-bottom: 1rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            font-size: 1.05rem;
            max-width: 680px;
            margin-left: auto;
            margin-right: auto;
        }

        .contact-info ul {
            margin: 1rem auto;
            padding-left: 1.5rem;
            text-align: left;
            display: inline-block;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .contact-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            color: #fbbf24;
            min-width: 40px;
        }

        .form-group {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .form-group label {
            display: block;
            color: white;
            font-weight: 600;
            min-width: 120px;
            flex-shrink: 0;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            flex: 1;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #fbbf24;
            background: rgba(255, 255, 255, 0.15);
        }

        .form-group textarea {
            height: 80px;
            resize: vertical;
            align-self: flex-start;
        }

        .submit-btn {
            background: rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #fbbf24;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            background: rgba(255, 215, 0, 0.3);
            border-color: rgba(255, 215, 0, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.2);
        }

        /* Main content wrapper */
        .main-wrapper {
            flex: 1;
        }

        /* Footer */
        footer {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 60px;
        }

        .footer-links {
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
            padding: 0 5px;
        }

        .footer-links a:hover {
            color: #fbbf24;
        }

        .footer-links .separator {
            color: rgba(255, 255, 255, 0.5);
            margin: 0 10px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            gap: 0.45rem;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 0.95rem;
        }

        .social-links svg {
            width: 18px;
            height: 18px;
            fill: #fbbf24;
            transition: fill 0.3s ease;
        }

        .social-links a:hover {
            color: #fbbf24;
        }

        .social-links a:hover svg {
            fill: #fbbf24;
        }

        /* Custom Modal */
        .custom-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }

        .custom-modal.show {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e3a8a 0%, #7f1d1d 100%);
            border: 2px solid #fbbf24;
            border-radius: 15px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-content h3 {
            color: #fbbf24;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .modal-content p {
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .modal-close-btn {
            background: rgba(251, 191, 36, 0.2);
            border: 2px solid #fbbf24;
            color: #fbbf24;
            padding: 10px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .modal-close-btn:hover {
            background: #fbbf24;
            color: #1e3a8a;
        }

        /* Responsive reCAPTCHA */
        .g-recaptcha {
            transform: scale(0.9);
            transform-origin: center;
        }

        @media (max-width: 480px) {
            .g-recaptcha {
                transform: scale(0.77);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
                width: 100%;
            }

            .nav-links {
                display: none;
            }

            .logo {
                height: 35px;
            }

            .logo-text {
                font-size: 1.15rem;
            }

            .page-header {
                padding: 100px 15px 40px;
                text-align: center;
            }

            .page-header h1 {
                font-size: 2.5rem;
                text-align: center;
            }

            .page-header p {
                font-size: 1.1rem;
                text-align: center;
            }

            .contact {
                padding: 60px 15px;
            }

            .contact-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .contact-form {
                padding: 1.5rem;
            }

            .contact-info {
                padding: 1.5rem;
                text-align: center;
            }

            .contact-info h2 {
                font-size: 2rem;
                text-align: center;
            }

            .contact-info h3 {
                font-size: 1.3rem;
                text-align: center;
            }

            .contact-info p {
                text-align: center;
                margin-left: auto;
                margin-right: auto;
            }

            .contact-info ul {
                text-align: center;
                padding-left: 0;
                list-style: none;
            }

            .contact-item {
                margin-left: auto;
                margin-right: auto;
                max-width: 100%;
            }

            .submit-btn {
                padding: 12px 24px;
                font-size: 0.9rem;
            }

            footer {
                padding: 1.5rem 0;
            }

            footer p {
                text-align: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .footer-links .separator {
                display: none;
            }

            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 1rem;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }

            .page-header {
                padding: 90px 10px 30px;
            }

            .page-header h1 {
                font-size: 2rem;
                text-align: center;
            }

            .page-header p {
                text-align: center;
            }

            .logo-text {
                font-size: 1.05rem;
            }

            .contact {
                padding: 40px 10px;
            }

            .contact-content {
                width: 100%;
                padding: 0;
                gap: 1.5rem;
            }

            .contact-form {
                padding: 1.5rem 1rem;
                width: 100%;
            }

            .contact-form h2 {
                font-size: 1.5rem;
                text-align: center;
            }

            .contact-info {
                padding: 1.5rem 1rem;
                text-align: center;
                width: 100%;
            }

            .contact-info h2 {
                font-size: 1.8rem;
                text-align: center;
            }

            .contact-info h3 {
                text-align: center;
                font-size: 1.2rem;
            }

            .contact-info p {
                text-align: center;
                font-size: 0.95rem;
            }

            .contact-item {
                flex-direction: column;
                text-align: center;
                padding: 0.75rem;
            }

            .contact-icon {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }

            .form-group label {
                text-align: left;
                min-width: auto;
            }

            .form-group {
                flex-direction: column;
                align-items: stretch;
            }

            .submit-btn {
                width: 100%;
            }

            footer p {
                text-align: center;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="main-wrapper">
        <!-- Header -->
        <header>
            <nav class="container">
            <a href="../index.html" class="logo-container">
                <img src="../percentrade_logo.png" alt="Percentrade" class="logo">
                <span class="logo-text">Light in the darkness</span>
            </a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../about/index.html">About Us</a></li>
            </ul>
        </nav>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Contact</h1>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact">
        <div class="container">
            <div class="contact-content">
                <div class="contact-info">
                    <h2>About Percentrade</h2>
                    <p>Percentrade is an innovative analytics company specializing in statistical analysis and predictive modeling for gaming and financial markets. We leverage advanced algorithms and data science to provide insights that help our clients make more informed decisions.</p>

                    <h3>Our Mission</h3>
                    <p>To transform raw data into actionable intelligence, offering sophisticated tools that analyze patterns, trends, and probabilities across various markets and gaming platforms.</p>

                    <h3>Our Approach</h3>
                    <p>We combine cutting-edge technology with statistical expertise to deliver solutions that minimize risks and optimize decision-making processes, though we always emphasize that no system can guarantee outcomes.</p>
                </div>

                <div class="contact-form">
                    <h2 style="margin-bottom: 2rem; color: #2c3e50; text-align: center;">Send us a Message</h2>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Your Name *</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" placeholder="Tell us more about your inquiry..." required></textarea>
                        </div>
                        <div class="g-recaptcha" data-sitekey="" id="contact-recaptcha" style="margin: 1.5rem 0; display: flex; justify-content: center;"></div>
                        <div style="text-align: center;">
                            <button type="submit" class="submit-btn">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="../privacy-policy/index.html">Privacy Policy</a>
                <span class="separator">|</span>
                <a href="../terms-of-use/index.html">Terms of Use</a>
                <span class="separator">|</span>
                <a href="../about/index.html">About Us</a>
                <span class="separator">|</span>
                <a href="mailto:support@percentrade.com">support@percentrade.com</a>
                <span class="separator">â€¢</span>
                <a href="../index.html">Home</a>
            </div>
            <div class="social-links">
                <a href="https://www.facebook.com/profile.php?id=61585901521673" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M22 2.1A2.1 2.1 0 0 0 19.9 0H4.1A2.1 2.1 0 0 0 2 2.1v15.8A2.1 2.1 0 0 0 4.1 20H12v-6H9.5V11H12V8.6c0-2.4 1.5-3.8 3.7-3.8 1.1 0 2.2 0.08 2.2 0.08v2.4h-1.5c-1.2 0-1.4 0.56-1.4 1.4V11h2.7l-0.4 3H15v6h4.9A2.1 2.1 0 0 0 22 17.9Z"/>
                    </svg>
                    <span>Facebook</span>
                </a>
                <a href="https://www.instagram.com/percentrade" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M12 2.2c3.2 0 3.6 0 4.9 0.1 1.2 0.1 1.9 0.2 2.3 0.4 0.6 0.2 1 0.4 1.4 0.8s0.6 0.8 0.8 1.4c0.2 0.4 0.3 1.1 0.4 2.3 0.1 1.3 0.1 1.7 0.1 4.9s0 3.6-0.1 4.9c-0.1 1.2-0.2 1.9-0.4 2.3-0.2 0.6-0.4 1-0.8 1.4s-0.8 0.6-1.4 0.8c-0.4 0.2-1.1 0.3-2.3 0.4-1.3 0.1-1.7 0.1-4.9 0.1s-3.6 0-4.9-0.1c-1.2-0.1-1.9-0.2-2.3-0.4-0.6-0.2-1-0.4-1.4-0.8s-0.6-0.8-0.8-1.4c-0.2-0.4-0.3-1.1-0.4-2.3C2.2 15.6 2.2 15.2 2.2 12s0-3.6 0.1-4.9c0.1-1.2 0.2-1.9 0.4-2.3 0.2-0.6 0.4-1 0.8-1.4s0.8-0.6 1.4-0.8c0.4-0.2 1.1-0.3 2.3-0.4C8.4 2.2 8.8 2.2 12 2.2m0-2.2C8.7 0 8.3 0 7 0.1 5.7 0.2 4.7 0.4 3.9 0.7 3 1 2.3 1.4 1.6 2.1S1 3 0.7 3.9C0.4 4.7 0.2 5.7 0.1 7 0 8.3 0 8.7 0 12s0 3.7 0.1 5c0.1 1.3 0.3 2.3 0.6 3.1 0.3 0.9 0.7 1.6 1.4 2.3s1.4 1.1 2.3 1.4c0.8 0.3 1.8 0.5 3.1 0.6 1.3 0.1 1.7 0.1 5 0.1s3.7 0 5-0.1c1.3-0.1 2.3-0.3 3.1-0.6 0.9-0.3 1.6-0.7 2.3-1.4s1.1-1.4 1.4-2.3c0.3-0.8 0.5-1.8 0.6-3.1 0.1-1.3 0.1-1.7 0.1-5s0-3.7-0.1-5c-0.1-1.3-0.3-2.3-0.6-3.1C23 1.6 22.6 0.9 21.9 0.2S20.5 0 19.7 0 17.8 0 16.5 0 15.3 0 12 0Z"/>
                        <path d="M12 5.8A6.2 6.2 0 1 0 18.2 12 6.2 6.2 0 0 0 12 5.8Zm0 10.2A4 4 0 1 1 16 12a4 4 0 0 1-4 4Z"/>
                        <path d="M18.4 4.5a1.4 1.4 0 1 0 1.4 1.4 1.4 1.4 0 0 0-1.4-1.4Z"/>
                    </svg>
                    <span>Instagram</span>
                </a>
                <a href="https://www.tiktok.com/@percentrade" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M21.7 7.2c-2 0-3.9-0.8-5.3-2.2V16a5.8 5.8 0 1 1-5.8-5.8 5.9 5.9 0 0 1 1.2 0.12v3.1a2.7 2.7 0 1 0 2.7 2.7V3h3.2a4.7 4.7 0 0 0 4.1 4.1Z"/>
                    </svg>
                    <span>TikTok</span>
                </a>
                <a href="https://www.youtube.com/@percentrade" target="_blank" rel="noopener noreferrer">
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M23.5 6.2s-0.2-1.7-0.8-2.5a3 3 0 0 0-2.1-2.1C18.3 1 12 1 12 1s-6.3 0-8.6 0.6a3 3 0 0 0-2.1 2.1C0.7 4.5 0.5 6.2 0.5 6.2A31.3 31.3 0 0 0 0 12a31.3 31.3 0 0 0 0.5 5.8s0.2 1.7 0.8 2.5a3 3 0 0 0 2.1 2.1C5.7 22.9 12 22.9 12 22.9s6.3 0 8.6-0.6a3 3 0 0 0 2.1-2.1c0.6-0.8 0.8-2.5 0.8-2.5A31.3 31.3 0 0 0 24 12a31.3 31.3 0 0 0-0.5-5.8ZM9.8 16.2V7.8l6.2 4.2Z"/>
                    </svg>
                    <span>YouTube</span>
                </a>
            </div>
            <p style="margin-top: 1rem; font-size: 0.9rem;">2108 N st, Sacramento, CA 95816</p>
            <p>&copy; 2026 Percentrade. All rights reserved. | Advanced Analytics & Statistical Intelligence</p>
        </div>
    </footer>
    </div>

    <!-- Custom Modal -->
    <div class="custom-modal" id="messageModal">
        <div class="modal-content">
            <h3 id="modalTitle">Message</h3>
            <p id="modalMessage"></p>
            <button class="modal-close-btn" onclick="closeModal()">OK</button>
        </div>
    </div>

    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        log.debug('Contact form script loaded');
        
        // Custom modal functions
        function showModal(title, message) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('messageModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('messageModal').classList.remove('show');
        }

        // Close modal on outside click
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('messageModal');
            if (e.target === modal) {
                closeModal();
            }
        });
        
        document.addEventListener('DOMContentLoaded', function () {
            log.debug('DOM loaded');
            document.documentElement.style.zoom = '100%';
            document.body.style.zoom = '100%';
        });

        // Initialize Supabase client using centralized config
        const SUPABASE_URL = window.ENV.SUPABASE_URL;
        const SUPABASE_ANON_KEY = window.ENV.SUPABASE_ANON_KEY;
        
        // Set reCAPTCHA site key from config
        document.getElementById('contact-recaptcha').setAttribute('data-sitekey', window.ENV.RECAPTCHA_SITE_KEY);
        
        log.debug('Initializing Supabase');
        let supabaseClient;
        if (typeof window.supabaseClient === 'undefined') {
            supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            window.supabaseClient = supabaseClient;
        } else {
            supabaseClient = window.supabaseClient;
        }
        log.debug('Supabase client created');

        // Form submission handling
        document.querySelector('#contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            log.debug('Form submitted');
            
            // Check reCAPTCHA
            const recaptchaResponse = grecaptcha.getResponse();
            if (!recaptchaResponse) {
                showModal('Verification Required', 'Please complete the reCAPTCHA verification.');
                return;
            }
            
            const submitBtn = this.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            
            const formData = {
                name: name,
                email: email,
                message: message
            };
            log.debug('Form data:', formData);
            
            try {
                log.debug('Sending to Supabase...');
                // Insert data into Supabase
                const { data, error } = await supabaseClient
                    .from('contact_messages')
                    .insert([formData])
                    .select();
                
                log.debug('Supabase response received');
                log.debug('Response data:', data);
                
                if (error) {
                    log.error('Supabase error:', {
                        message: error.message,
                        details: error.details,
                        hint: error.hint,
                        code: error.code
                    });
                    throw error;
                }
                
                log.debug('Message saved to database');
                
                // Success message
                showModal('Success!', 'Thank you for your message! We will get back to you within 24-72 hours.');
                this.reset();
                grecaptcha.reset();
                
            } catch (error) {
                log.error('Form submission error:', error.message);
                showModal('Error', error.message + '\n\nPlease email us directly at support@percentrade.com');
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                log.debug('Form submission complete');
            }
        });

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.background = 'rgba(0, 0, 0, 0.5)';
                header.style.backdropFilter = 'blur(25px)';
                header.style.webkitBackdropFilter = 'blur(25px)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.3)';
                header.style.backdropFilter = 'blur(20px)';
                header.style.webkitBackdropFilter = 'blur(20px)';
            }
        });

        (function() {
            const logoTextEl = document.querySelector('.logo-text');
            if (!logoTextEl) {
                return;
            }

            const labels = ['Light in the darkness', 'Percentrade'];
            let index = 0;
            const intervalMs = 4000;
            const fadeMs = 350;

            setInterval(() => {
                logoTextEl.classList.add('logo-text--fade');
                setTimeout(() => {
                    index = (index + 1) % labels.length;
                    logoTextEl.textContent = labels[index];
                    logoTextEl.classList.remove('logo-text--fade');
                }, fadeMs);
            }, intervalMs);
        })();
    </script>
    <!-- Cookie Consent Banner -->
    <script src="../cookie-consent.js"></script>
    <!-- Google Analytics -->
    <script src="../google-analytics.js"></script>
</body>
</html>
